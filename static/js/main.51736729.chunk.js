(this["webpackJsonpreact-tab-site"]=this["webpackJsonpreact-tab-site"]||[]).push([[0],{134:function(e,t,n){e.exports=n(260)},139:function(e,t,n){},141:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),o=n.n(i),l=(n(139),n(140),n(112)),s=n(113),c=n(26),u=n(123),h=n(124),d=(n(141),n(269)),f=n(270),v=n(271),m=n(272),g=n(268),p=n(267);function E(e){for(var t=e.split("\n").map((function(e){return function(e){return e.split("").map((function(e){return isNaN(e)||" "===e?-1:parseInt(e)}))}(e)})),n=[[],[],[],[],[],[]],a=0,r=t.length/7;a<r;a++)for(var i=0;i<6;i++)n[i]=n[i].concat(t[i+7*a]);for(var o=0;o<6;o++)n[o]=n[o].filter((function(e){return void 0!==e})),0===n[o].length&&(n[o].push(-1),n[o].push(-1));return n}function b(e,t){if(0===e.length)return"";for(var n=e.map((function(e){for(var n=[],a=e.map((function(e){return e.toString().replace("-1","-")})),r=0,i=e.length/t;r<i;r++){var o=a.slice(r*t,(r+1)*t).join("");o.length<t&&(o+="-".repeat(t-o.length)),n.push(o)}return n})),a=[],r=0,i=n[0].length;r<i;r++){for(var o=0;o<6;o++)a.push(n[o][r]);r!==i-1&&a.push("")}return a.slice(-6).every((function(e){return!e||e.match(/^-+$/g)}))&&(a=a.slice(0,-6)),a.join("\n")}function S(e,t,n,a,r){var i=e.map((function(e){return e.length})),o=Math.min.apply(Math,i),l=Math.max.apply(Math,i),s=i.filter((function(e){return o===e})).length,c=i.filter((function(e){return l===e})).length;if(l-o!==1)return{newStrings:t,newCursor:n};var u=n;if(1===s){var h=k(n,a,!1),d=i.findIndex((function(e){return e===o}));if(r)for(var f=0;f<6;f++)d!==f&&e[f].splice(h,1);else e[d].splice(h,0,-1)}if(1===c){var v=k(n,a,!0),m=i.findIndex((function(e){return e===l}));if(r)for(var g=0;g<6;g++)m!==g&&e[g].splice(v-1,0,-1);else e[m].splice(v,1);u=function(e,t,n){var a=6*n+7;return Math.floor(e/n)*a+(n+1)*t+e%n}(v,m,a)}return{newStrings:e,newCursor:u}}function k(e,t,n){var a=6*t+7,r=Math.floor(e/a);return n&&e%a%(t+1)==0&&(r+=1),e%a%(t+1)+r*t}function M(e,t){var n=1;return e.length>0&&(n=Math.floor((e[0].length-1)/t)+1),n<4&&(n=4),(7*n-1).toString()}var w=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={currentTabText:"",currentStrings:[],insertMode:!1,cursorPosition:-1,lineLength:6,songs:[]},a.handleEditModeChange=a.handleEditModeChange.bind(Object(c.a)(a)),a.handleTabEdit=a.handleTabEdit.bind(Object(c.a)(a)),a.handleSave=a.handleSave.bind(Object(c.a)(a)),a.handleLoad=a.handleLoad.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"handleTabEdit",value:function(e){var t=document.getElementById("tab-text").firstElementChild.selectionStart,n=this.state.lineLength,a=this.state.currentStrings,r=this.state.insertMode,i=S(E(e.target.value),a,t,n,r),o=i.newStrings,l=i.newCursor;this.setState({currentStrings:o,cursorPosition:l})}},{key:"handleSave",value:function(e){}},{key:"handleLoad",value:function(e){}},{key:"buildEditButton",value:function(e,t){return t?r.a.createElement(d.a,{positive:!0},e):r.a.createElement(d.a,{onClick:this.handleEditModeChange},e)}},{key:"handleEditModeChange",value:function(e){this.setState({insertMode:!this.state.insertMode})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{container:!0,columns:1,stackable:!0},r.a.createElement(v.a,{as:"h1"},"React Tab Editor "),r.a.createElement(f.a.Column,null,r.a.createElement(m.a,{className:"action-buttons"},r.a.createElement(g.a,{link:!0,className:"tab-links"}),r.a.createElement(d.a.Group,null,r.a.createElement(d.a,{content:"Save",onClick:this.handleSave}),r.a.createElement(d.a,{content:"Load",onClick:this.handleLoad}))),r.a.createElement(m.a,null,r.a.createElement(d.a.Group,null,this.buildEditButton("Insert",this.state.insertMode),r.a.createElement(d.a.Or,null),this.buildEditButton("Replace",!this.state.insertMode))),r.a.createElement(m.a,{id:"tab-text"},r.a.createElement(p.a,{rows:M(this.state.currentStrings,this.state.lineLength),value:b(this.state.currentStrings,this.state.lineLength),onChange:this.handleTabEdit})))))}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.cursorPosition,n=e.lineLength;if(-1!==t){var a=document.getElementById("tab-text").firstElementChild;t>a.value.length&&(t-=6*(n+1)+1-n),a.selectionStart=t,a.selectionEnd=t,this.setState({cursorPosition:-1})}}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.51736729.chunk.js.map